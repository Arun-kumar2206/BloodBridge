<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blood Bank | Blood Bridge</title>
    <link rel="stylesheet" href="../css/normalize.css" />
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <nav class="nav-bar">
      <div class="nav-left">
        <img src="../images/webicon.png" alt="WEBSITE ICON" />
        <h1>BLOOD BRIDGE</h1>
      </div>
      <div class="nav-right">
        <ul class="nav-elements">
          <li><a href="../index.html">Home</a></li>
          <li><a href="#">Blood bank</a></li>
          <li><a href="./events.html">Camps</a></li>
          <li><a href="./news.html">News</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </div>
    </nav>
    <main>
      <h2 class="section-title">Current Blood Inventory</h2>
      <div class="blood-count-container">
        <div class="blood-donors-register">
          <h2 id="total-donors">0</h2>
          <h2>DONORS</h2>
          <p>Registered in our database</p>
        </div>
        <div class="blood-group-container">
          <h2 id="A-positive">0</h2>
          <h2>A+</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="A-negative">0</h2>
          <h2>A-</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="B-positive">0</h2>
          <h2>B+</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="B-negative">0</h2>
          <h2>B-</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="O-positive">0</h2>
          <h2>O+</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="O-negative">0</h2>
          <h2>O-</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="AB-positive">0</h2>
          <h2>AB+</h2>
        </div>
        <div class="blood-group-container">
          <h2 id="AB-negative">0</h2>
          <h2>AB-</h2>
        </div>
      </div>

      <section class="donation-cta">
        <h2>Ready to Save Lives?</h2>
        <p>Your blood donation can help up to three people in need.</p>
        <div class="cta-buttons">
          <a href="./blood-donation.html" class="button-primary"
            >Become a Donor</a
          >
          <a href="./blood-request.html" class="button-secondary"
            >Request Blood</a
          >
        </div>
      </section>

      <h2 class="donation-quote">LEARN ABOUT BLOOD DONATION</h2>
      <div class="blood-bank-img">
        <div class="first-img">
          <img src="../images/donationFact.webp" alt="blood fact" />
        </div>
        <div class="second-img">
          <img src="../images/bloodtypes.webp" alt="" />
        </div>
      </div>

      <section class="faq-section">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <div class="faq-container">
          <details class="faq-item">
            <summary>Who can donate blood?</summary>
            <p>
              Most healthy adults who are at least 17 years old and weigh at
              least 110 pounds can donate blood.
            </p>
          </details>
          <details class="faq-item">
            <summary>How often can I donate blood?</summary>
            <p>You can donate whole blood every 56 days (about 8 weeks).</p>
          </details>
          <details class="faq-item">
            <summary>How long does a blood donation take?</summary>
            <p>
              The actual donation process takes about 8-10 minutes, but the
              entire visit including registration and health screening takes
              about an hour.
            </p>
          </details>
          <details class="faq-item">
            <summary>Is blood donation safe?</summary>
            <p>
              Yes, blood donation is completely safe. New, sterile equipment is
              used for each donor.
            </p>
          </details>
        </div>
      </section>
    </main>

    <footer class="footer-component" id="about">
      <div class="footer-left-container">
        <img src="../images/webicon.png" alt="WEBSITE LOGO" />
        <h2>BLOOD BRIDGE</h2>
      </div>
      <div class="footer-right-container">
        <div class="footer-right-first">
          <h2>Team</h2>
          <p>Nanda Priya</p>
          <p>Flora Keren</p>
          <p>Bhavana</p>
          <p>Manohar</p>
          <p>Varun</p>
          <p>Arun</p>
        </div>
        <div class="footer-right-second">
          <a href="#"><h2>Press</h2></a>
          <a href="./news.html"><p>News</p></a>
          <a href="./events.html"><p>Camps</p></a>
        </div>
        <div class="footer-right-third">
          <h2>Contact us</h2>
          <p>Phone: 6301077834</p>
          <p>Mail: arunveguru2005@gmail.com</p>
        </div>
      </div>
    </footer>
    <script>
      async function fetchDonorData() {
        try {
          const response = await fetch("http://localhost:3000/donors");
          const donors = await response.json();
          const bloodGroups = {
            "A+": 0,
            "A-": 0,
            "B+": 0,
            "B-": 0,
            "O+": 0,
            "O-": 0,
            "AB+": 0,
            "AB-": 0,
          };
          donors.forEach((donor) => {
            bloodGroups[donor.bloodGroup]++;
          });
          document.getElementById("total-donors").innerText = donors.length;
          document.getElementById("A-positive").innerText = bloodGroups["A+"];
          document.getElementById("A-negative").innerText = bloodGroups["A-"];
          document.getElementById("B-positive").innerText = bloodGroups["B+"];
          document.getElementById("B-negative").innerText = bloodGroups["B-"];
          document.getElementById("O-positive").innerText = bloodGroups["O+"];
          document.getElementById("O-negative").innerText = bloodGroups["O-"];
          document.getElementById("AB-positive").innerText = bloodGroups["AB+"];
          document.getElementById("AB-negative").innerText = bloodGroups["AB-"];
        } catch (error) {
          console.error("Error fetching donor data:", error);
        }
      }
      fetchDonorData();
    </script>
  </body>
</html>
